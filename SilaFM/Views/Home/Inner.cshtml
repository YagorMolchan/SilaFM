@using Pras.Shared.Enums.Extensions
@model FullSpeakerViewModel

@{
    ViewBag.Title = Model.Name;
    Layout = "_Layout";
}

@section Styles{

    <link rel="stylesheet" href="~/site/css/progress-wizard.min.css" />
    <link rel="stylesheet" href="~/site/libs/BipolarChart/cssBipolarChart.css" />
    <script src="~/site/js/playerjs.js"></script>
}

<div class="miniblock">
    <div class="serij">
        <h1>Анкета</h1>
    </div>
    <div class="row">
        <div class="insideblock">
            <h2>@Model.Name</h2>
            <div class="row">
                <div class="col-md-9 col-sm-8">
                    <table class="table table-striped basictext">
                        <tbody>
                            <tr>
                                <td>Статус</td>
                                <td class="cursivtext">@Model.Status.GetLocalizedDescription()</td>
                            </tr>
                            <tr>
                                <td>Пол</td>
                                <td class="cursivtext">@Model.Gender.GetLocalizedDescription()</td>
                            </tr>
                            <tr>
                                <td>Возраст</td>
                                <td class="cursivtext">@Model.VoiceAge.GetLocalizedDescription()</td>
                            </tr>
                            <tr>
                                <td>Язык</td>
                                <td class="cursivtext">@String.Join(", ", Model.VoiceLanguages.Select(p => p.Name))</td>
                            </tr>
                            <tr>
                                <td>Стоимость до 30 слов</td>
                                <td class="cursivtext">@Model.Price30 @Model.GetCurrency</td>
                            </tr>
                            <tr>
                                <td>Стоимость до 90 слов</td>
                                <td class="cursivtext">@Model.Price90 @Model.GetCurrency</td>
                            </tr>
                            <tr>
                                <td>Стоимость за 1 страницу</td>
                                <td class="cursivtext">@Model.PricePage @Model.GetCurrency</td>
                            </tr>
                            <tr>
                                <td>Время записи</td>
                                <td class="cursivtext">@Model.TermsStr</td>
                            </tr>
                            <tr>
                                <td>Возможность режиссирования</td>
                                <td class="cursivtext">@(Model.CanDirect ? "да" : "нет")</td>
                            </tr>
                            @if (Model.VacationEndDate >= DateTime.Today)
                            {
                                <tr>
                                    <td>Отпуск</td>
                                    <td class="cursivtext"> с @Model.VacationStartDate.ToShortDateString() по @Model.VacationEndDate.ToShortDateString() </td>
                                </tr>
                            }
                            @if (!String.IsNullOrEmpty(Model.DemoAdvertising))
                            {
                                <tr>
                                    <td>Рекламная подача</td>
                                    <td class="cursivtext"> <a href="@Model.DemoAdvertising" target="_blank">cлушать</a></td>
                                </tr>
                            }
                            @if (!String.IsNullOrEmpty(Model.DemoVoiceOver))
                            {
                                <tr>
                                    <td>Закадровая озвучка</td>
                                    <td class="cursivtext"> <a href="@Model.DemoVoiceOver" target="_blank">cлушать</a></td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
                <div class="col-md-3 col-sm-4">
                    @if (!String.IsNullOrEmpty(Model.DemoVoiceOver) && !String.IsNullOrEmpty(Model.DemoVoiceOver))
                    {
                        <div id="player"></div>
                        <script>
                            var player = new Playerjs({
                                id: "player",
                                poster: "@Model.Image",
                                file: [
                                    {
                                        "title": "Рекламный ролик",
                                        "file": "@Model.DemoAdvertising"
                                    },
                                    {
                                        "title": "Закадровый",
                                        "file": "@Model.DemoVoiceOver"
                                    }
                                ]
                            });

                        </script>
                    }
                    <div class="text-center mrg50">
                        <a class="zakaz_btn" href="@Url.Action("Order", "Home")">
                            Заказать диктора
                        </a>
                    </div>
                </div>
            </div>
            <div class="row anketa">
                <h4>Комментарии студии</h4>
                <hr>
                <p class="basictext">
                    @Model.Comment
                </p>
            </div>
            <div class="row anketa">
                <h4>График доступности диктора</h4>
                <hr>
                <div class="grafwork">
                    <ul class="progress-indicator">
                        <li class="@(Model.ListDays.Contains(0)?"completed":"")"> <span class="bubble"></span> Пн. </li>
                        <li class="@(Model.ListDays.Contains(1)?"completed":"")"> <span class="bubble"></span> Вт. </li>
                        <li class="@(Model.ListDays.Contains(2)?"completed":"")"> <span class="bubble"></span> Ср. </li>
                        <li class="@(Model.ListDays.Contains(3)?"completed":"")"> <span class="bubble"></span> Чт. </li>
                        <li class="@(Model.ListDays.Contains(4)?"completed":"")"> <span class="bubble"></span> Пт. </li>
                        <li class="@(Model.ListDays.Contains(5)?"completed":"")"> <span class="bubble"></span> Сб. </li>
                        <li class="@(Model.ListDays.Contains(6)?"completed":"")"> <span class="bubble"></span> Вс. </li>
                    </ul>
                </div>
                <table class="table basictext">
                    <tbody>
                        <tr>
                            <td class="text-center" style="width: 14.285%">@Html.Raw(Model.ListDays.Contains(0) ? Model.Hours : "--")</td>
                            <td class="text-center" style="width: 14.285%">@Html.Raw(Model.ListDays.Contains(1) ? Model.Hours : "--")</td>
                            <td class="text-center" style="width: 14.285%">@Html.Raw(Model.ListDays.Contains(2) ? Model.Hours : "--")</td>
                            <td class="text-center" style="width: 14.285%">@Html.Raw(Model.ListDays.Contains(3) ? Model.Hours : "--")</td>
                            <td class="text-center" style="width: 14.285%">@Html.Raw(Model.ListDays.Contains(4) ? Model.Hours : "--")</td>
                            <td class="text-center" style="width: 14.285%">@Html.Raw(Model.ListDays.Contains(5) ? Model.Hours : "--")</td>
                            <td class="text-center" style="width: 14.285%">@Html.Raw(Model.ListDays.Contains(6) ? Model.Hours : "--")</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <h4 class="mrg50">Характеристика голоса</h4>
            <hr>
            <p class="basictext">
                @Model.VoiceDescription
                <div class="row">
                    <div class="col-md-12">
                        <br>
                        <div id="vo_01"></div>
                    </div>
                </div>
                @if (Model.ListVideos.Any())
                {
                    <h4 class="mrg50">Примеры озвучки</h4>
                    <hr>
                    <div class="row masonry-container">
                        @foreach (var item in Model.ListVideos)
                        {
                            <div class="grid-item col-xs-6 col-md-4">
                                <div class="thumbnail">
                                    <div class="embed-responsive embed-responsive-16by9">
                                        <iframe class="embed-responsive-item" src="@item.Path"></iframe>
                                    </div>
                                    <div class="caption">
                                        <h4>@item.Name</h4>
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                }
                <br><br>
        </div>
    </div>
</div>
@section Scripts{
    <script src="~/site/libs/BipolarChart/cssBipolarChart.js"></script>
    <script>
        var sampleData1 = [
            ["Низкий темб", "Высокий тембр", @Model.VoiceParams.LowHighTone*0.01],
            ["Мягкий", "Уверенный", @Model.VoiceParams.ConfidentVoice*0.01],
            ["Сухой", "Богатый", @Model.VoiceParams.RichVoice*0.01],
            ["Хладнокровный", "Энергический", @Model.VoiceParams.EnergeticVoice*0.01],
            ["Живой", "Деловой", @Model.VoiceParams.BusinessVoice*0.01],
        ];

        $(document).ready(function () {
            $("#vo_01").drawCSSBipolarChart({
                colors: { left: 'rgb(56, 90, 165)', right: 'rgb(219, 158, 52)' },
                data: sampleData1,
                bipolar: true
            });

        });

    </script>
}